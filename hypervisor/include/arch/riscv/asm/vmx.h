/*
 * Copyright (C) 2023-2024 Intel Corporation. All rights reserved.
 *
 * SPDX-License-Identifier: BSD-3-Clause
 */

#ifndef __RISCV_HX_H__
#define __RISCV_HX_H__

/*
 * Basic VM exit reasons
 */
#define HX_EXIT_INS_MISALIGN			0x00000000U
#define HX_EXIT_INS_ACCESS			0x00000001U
#define HX_EXIT_INS_ILLEGAL			0x00000002U
#define HX_EXIT_BREAKPOINT			0x00000003U
#define HX_EXIT_LOAD_MISALIGN			0x00000004U
#define HX_EXIT_LOAD_ACCESS			0x00000005U
#define HX_EXIT_STORE_MISALIGN			0x00000006U
#define HX_EXIT_STORE_ACCESS			0x00000007U
#define HX_EXIT_ECALL_U				0x00000008U
#define HX_EXIT_ECALL_HS			0x00000009U
#define HX_EXIT_ECALL_VS			0x0000000AU
#define HX_EXIT_ECALL_M				0x0000000BU
#define HX_EXIT_PF_INS				0x0000000CU
#define HX_EXIT_PF_LOAD				0x0000000DU
#define HX_EXIT_RESV				0x0000000EU
#define HX_EXIT_PF_STORE			0x0000000FU
#define HX_EXIT_REASON_INVLPG			0x0000000EU
#define HX_EXIT_PF_GUEST_INS			0x00000014U
#define HX_EXIT_PF_GUEST_LOAD			0x00000015U
#define HX_EXIT_VIRT_INS			0x00000016U
#define HX_EXIT_PF_GUEST_STORE			0x00000017U

#define NR_HX_EXIT_REASONS (HX_EXIT_PF_GUEST_STORE + 1)

#define HX_EXIT_IRQ_RSV				0x00000000U
#define HX_EXIT_IRQ_SSWI			0x00000001U
#define HX_EXIT_IRQ_VIRT_SSWI			0x00000002U
#define HX_EXIT_IRQ_MSWI			0x00000003U
#define HX_EXIT_IRQ_STIMER			0x00000005U
#define HX_EXIT_IRQ_VSTIMER			0x00000006U
#define HX_EXIT_IRQ_MTIMER			0x00000007U
#define HX_EXIT_IRQ_SEXT			0x00000009U
#define HX_EXIT_IRQ_VSEXT			0x0000000AU
#define HX_EXIT_IRQ_MEXT			0x0000000BU
#define HX_EXIT_IRQ_GUEST_SEXT			0x00000022U

#define NR_HX_EXIT_IRQ_REASONS		(HX_EXIT_IRQ_GUEST_SEXT + 1)

/* HX entry/exit Interrupt info */
#define HX_INT_INFO_ERR_CODE_VALID     (1U<<11U)
#define HX_INT_INFO_VALID              (1U<<31U)
#define HX_INT_TYPE_MASK               (0x700U)
#define HX_INT_TYPE_EXT_INT            0U
#define HX_INT_TYPE_NMI                2U
#define HX_INT_TYPE_HW_EXP             3U
#define HX_INT_TYPE_SW_EXP             6U

#define POSTED_INTR_ON  0U

#endif /* __RISCV_HX_H__ */
